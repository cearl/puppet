[mysqld]
datadir=/var/lib/mysql
socket=/var/lib/mysql/mysql.sock
user=mysql
bind-address=<%= ipaddress_eth0 %>

######
# Security
######
old_passwords=0
symbolic-links=0
local-infile=0
skip-show-database
skip-name-resolve

######
# Performance
######
key_buffer_size=64M
net_buffer_length=1K
read_buffer_size=128k
sort_buffer_size=256k
join_buffer_size=1M
max_heap_table_size=12M
tmp_table_size=12M
table_open_cache=6000
table_definition_cache=6000
max_connections=250
max_allowed_packet=64M

######
# Timeouts
######
wait_timeout=30
interactive_timeout=150

######
# Query Caching
######
query_cache_limit=2M
query_cache_size=96M
query_cache_min_res_unit=4k
query_cache_type=1

######
# Thread Caching
######
thread_cache_size=64

######
# InnoDB
######
default-storage-engine = InnoDB
innodb_buffer_pool_size=768M
innodb_log_buffer_size=8M
innodb_flush_method=O_DIRECT
innodb_log_file_size=1GB
innodb_flush_log_at_trx_commit=2
innodb_support_xa=1

######
# Logging
######

#general_log=1
#general_log_file=/var/log/mysql/mysql_query.log

######
# Expire Logs
######
expire_logs_days=5

slow_query_log=1
slow_query_log_file=/var/log/mysql/mysql_query_slow.log
long_query_time=2

log-bin=/var/lib/mysql/mysql-bin.log
log-bin-index=/var/lib/mysql/mysql-bin.index
max_binlog_size=500MB
sync_binlog=1

relay-log=/var/lib/mysql/mysql-relay-bin.log
relay-log-index=/var/lib/mysql/mysql-relay-bin.index

[mysqld_safe]
log-error=/var/log/mysqld.log
pid-file=/var/run/mysqld/mysqld.pid

[ndbd]
connect-string="nodeid=2;host=localhost:1186"

[ndb_mgm]
connect-string="host=localhost:1186"
